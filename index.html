<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transplante Renal - Informativo</title>
  <meta name="description" content="Informativo sobre transplante renal, doação de órgãos, cuidados e apoio à doação.">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin:0;
      padding:0;
      color:#333;
      line-height:1.6;
      background: linear-gradient(rgba(255,255,255,0.85), rgba(255,255,255,0.85)), url('https://pbs.twimg.com/media/E6cgDU3XIAE7tEK?format=jpg&name=medium') no-repeat center center fixed;
      background-size: cover;
    }
    header { background:#2e7d32; color:#fff; padding:1rem; text-align:center; }
    section { max-width:900px; margin:20px auto; padding:15px; background:#fff; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    h2 { color:#2e7d32; display:flex; align-items:center; }
    h2 i { margin-right:10px; color:#388e3c; }
    ul, ol { padding-left: 20px; }
    a { color:#2e7d32; text-decoration:none; }
    a:hover { text-decoration:underline; }
    .btn { display:inline-block; background:#388e3c; color:#fff; padding:0.7rem 1.2rem; border-radius:8px; border:none; cursor:pointer; margin-top:10px; font-size:1rem; transition:0.3s; }
    .btn:hover { background:#1b5e20; }
    .count { margin-top:8px; font-weight:bold; color:#2e7d32; }
    video { width:100%; max-width:560px; height:auto; margin-top:10px; border-radius:8px; }
    #map { width:100%; height:400px; margin-top:10px; border-radius:8px; }
    .hospital-link { display:flex; align-items:center; margin-bottom:5px; }
    .hospital-link i { margin-right:8px; color:#2e7d32; }
  </style>
</head>
<body>

<header>
  <h1><i class="fas fa-kidneys"></i> Transplante Renal</h1>
  <p>Informações completas sobre doação de órgãos e transplante renal</p>
</header>

<!-- ... todas as seções anteriores ... -->

<section>
  <h2><i class="fas fa-hand-holding-heart"></i> 11. Chamada à Ação</h2>
  <p>Se você deseja ajudar, considere se tornar um doador e incentive familiares e amigos a fazerem o mesmo.</p>
  <button id="apoiarBtn" class="btn">Quero apoiar</button>
  <div id="contador" class="count">Apoiadores: 0</div>
</section>

<section>
  <h2><i class="fas fa-map-marker-alt"></i> 10. Rede de Transplantes - SJC</h2>
  <p>Visualize a localização dos hospitais de referência para transplantes na cidade:</p>
  <div id="map"></div>
</section>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "SUA_API_KEY",
  authDomain: "SEU_PROJECT_ID.firebaseapp.com",
  projectId: "SEU_PROJECT_ID",
  storageBucket: "SEU_PROJECT_ID.appspot.com",
  messagingSenderId: "SEU_SENDER_ID",
  appId: "SEU_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const apoioRef = doc(db, "apoios", "contador");

async function carregarContador() {
  const snap = await getDoc(apoioRef);
  if (snap.exists()) {
    document.getElementById("contador").innerText = "Apoiadores: " + snap.data().total;
  } else {
    await setDoc(apoioRef, { total: 0 });
    document.getElementById("contador").innerText = "Apoiadores: 0";
  }
}

async function adicionarApoio() {
  await updateDoc(apoioRef, { total: increment(1) });
  carregarContador();
  document.getElementById("apoiarBtn").textContent = "Apoio registrado ✅";
}

document.getElementById("apoiarBtn").addEventListener("click", adicionarApoio);
carregarContador();
</script>

<!-- Google Maps -->
<script>
function initMap() {
  const sjc = { lat: -23.1896, lng: -45.9009 };
  const map = new google.maps.Map(document.getElementById("map"), { zoom: 12, center: sjc });

  const hospitals = [
    { name: "Santa Casa de São José dos Campos", position: { lat: -23.1827, lng: -45.8814 }, url: "https://www.santacasasjc.com.br/" },
    { name: "Hospital Municipal Dr. José de Carvalho Florence", position: { lat: -23.1900, lng: -45.9030 }, url: "https://hmdrjcf.spdmafiliadas.org.br/" },
    { name: "Hospital Regional de São José dos Campos", position: { lat: -23.1940, lng: -45.9020 }, url: "https://hrsjc.com.br/inicio" }
  ];

  hospitals.forEach(hospital => {
    const marker = new google.maps.Marker({ position: hospital.position, map: map, title: hospital.name });
    const infoWindow = new google.maps.InfoWindow({ content: `<strong>${hospital.name}</strong><br><a href="${hospital.url}" target="_blank">${hospital.url}</a>` });
    marker.addListener("click", () => infoWindow.open(map, marker));
  });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDu0JPKySi4HoQvk3S47rXqbnjkmv8_Vjg&callback=initMap" async defer></script>

</body>
</html>
